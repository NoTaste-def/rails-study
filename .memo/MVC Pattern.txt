[MVC Pattern]
디자인 패턴 중 하나. 복잡한 어플리케이션을 세 가지 주요 부분으로 나누어 개발을 더 쉽고 효율적으로 만들어준다.

세 가지 부분 =>
- Model : 데이터와 관련된 부분 담당. 데이터를 저장하고, 데이터베이스와 상호작용하는 역할을 함. 건물의 뼈대와 같은 역할
- View : 사용자에게 보여지는 부분을 담당. 웹 페이지의 내용을 만들고, UI를 구성함.
- Controller : 모델과 뷰 사이의 다리 역할.
               사용자의 요청을 처리하고, 모델을 사용하여 데이터를 가져오거나 변경하고, 뷰를 선택하여 사용자에게 보여줌.
               건물의 관리인과 같은 역할.



[MVC 패턴의 장점]
1. 코드 분리 및 가독성 향상 : 각 역할에 따라 코드를 분리함으로써 코드를 이해하기 쉽고, 관리하기 용이하게 만듬.
2. 유지보수 용이성 : 코드가 모듈화 되어 있어 특정 부분을 수정해야 할 때 전체 코드를 수정할 필요 없이 해당 부분만 수정하면 됨.
3. 코드 재사용성 : 모델, 뷰, 컨트롤러는 다른 어플리케이션에서도 재사용할 수 있음.
4. 병렬 개발 : 여러 개발자가 각 부분을 나누어 동시에 개발할 수 있으므로 개발 속도를 향상시킬 수 있습니다.




[MVC 패턴의 작동 방식]

 -- 비유를 들어 설명 --

1.	사용자의 요청 (Request)
사용자가 웹 브라우저에 주소를 입력하거나 링크를 클릭함.
이는 마치 건물을 방문하려는 사람이 입구로 들어오는 것과 같음.

2.	컨트롤러 (Controller)
컨트롤러는 건물 관리인과 같은 역할을 함.
관리인은 방문 목적을 듣고 어떤 방을 보여줄지 판단함.

예를 들어,
“방을 보러 왔어요.”
라고 하면 관리인은
“그럼 방 목록을 보여줘야겠군.”
이라고 결정함.

즉, 컨트롤러는 사용자의 요청을 해석하고, 어떤 작업을 수행할지 결정하는 역할을 함.

3.	모델 (Model)
모델은 실제 데이터가 보관되어 있는 자료실과 같음.
관리인은 자료실에 요청함.

“현재 등록된 방 목록을 가져와 줘.”

모델은 데이터베이스에서 필요한 데이터를 조회하거나 저장하는 역할을 함.

4.	컨트롤러 (데이터 전달)
모델이 데이터를 가져오면, 컨트롤러는 그 데이터를 전달받음.
그리고 이를 사용자에게 보여주기 위해 뷰(View)로 넘겨줌.

5.	뷰 (View)
뷰는 데이터를 사용자에게 보여줄 수 있도록 화면을 구성하는 역할을 함.
마치 방 목록이 적힌 안내 책자를 깔끔하게 만들어 방문자에게 보여주는 것과 같음.

6.	사용자에게 결과 표시
최종적으로 완성된 웹 페이지가 브라우저에 표시됨.
사용자는 이를 통해 원하는 정보를 확인하게 됨.


 -- 실제 웹에서의 MVC 동작 흐름 (ft. Rails) --

예: 사용자가 http://localhost:3000/rooms 에 접속하는 경우

1.	사용자의 HTTP 요청 발생
브라우저가 서버에 다음과 같은 요청을 보냄.
GET /rooms

2.	라우팅 (routes.rb)
Rails는 routes.rb 파일을 확인하여 어떤 컨트롤러와 연결할지 결정함.
예:
get ‘/rooms’, to: ‘rooms#index’
이 설정은 RoomsController의 index 액션을 실행하라는 의미.

3.	컨트롤러 실행
RoomsController의 index 메서드가 실행됨.
예:
@rooms = Room.all
컨트롤러는 모델에게 데이터 조회를 요청합니다.

4.	모델이 데이터베이스 조회
Room 모델은 데이터베이스에서 방 목록을 가져옴.
Model은 데이터 처리와 데이터베이스와의 소통을 담당함.

5.	뷰 렌더링
Rails는 자동으로
app/views/rooms/index.html.erb
파일을 실행함.
뷰는 전달받은 @rooms 데이터를 이용해 HTML을 생성함.

6.	HTML 응답 반환
완성된 HTML이 브라우저로 전송되고,
사용자는 화면에서 방 목록을 확인하게 됨.


[중간정리]
모델 : 데이터 저장 및 처리 (데이터베이스와 상호작용) - app/models
뷰 : 사용자 인터페이스 (웹 페이지 표시) - app/views
컨트롤러 : 사용자 요청 처리 및 모델과 뷰 연결 - app/controllers



[Model, View, Controller의 역할]

1. Model, 데이터 관리의 핵심

(역할)
- 데이터 저장 및 관리: 어플리케이션에서 사용하는 데이터를 데이터베이스에 저장하고, 필요할 때 데이터를 가져오거나 수정, 삭제하는 역할을 함.
- 데이터베이스와 상호작용: 데이터베이스와 직접 통신하여 데이터를 처리함. (예: 테이블 생성, 데이터 검색, 데이터 삽입 등)
- 데이터 유효성 검증: 데이터가 올바른 형식인지 확인하고, 잘못된 데이가 저장되지 않도록 함. (예: 이메일 형식 검사, 필수 입력 필드 확인)
- 비즈니스 로직 처리: 데이터와 관련된 복잡한 규칙이나 계산을 처리함 (예: 할인율 계산, 사용자 등급 계산 등)

(예시)
- app/models 폴더에 있는 파일 (예: User.rb, Post.rb, Product.rb)
- Active Record 라는 ORM(Object-Relation Mapper)을ㄹ 사용하여 데이터베이스 작업을 쉽게 처리.

(특징)
- 데이터베이스 테이블과 1:1 매핑됨. (예: User 모델은 users 테이블에 해당)
- 데이터를 저장하고 관리하는 데 필요한 로직을 포함함.
- 컨트롤러와 상호작용하여 필요한 데이터를 제공함.



2. View, 사용자 인터페이스 담당

(역할)
- 사용자 인터페이스 생성: 웹 페이지를 구성하는 html, css, javascript 코드를 작성하여 사용자에게 보여지는 화념을 만듦.
- 데이터 출력: 모델에서 가져온 데이터를 사용자에게 보기 좋게 출력함.
- 템플릿 사용: html에 ruby 코드를 추가하여 동적인 웹 페이지를 만듬. (erb, haml 등의 템플릿 엔진 사용)
- 사용자 입력 처리: 사용자가 입력한 데이터를 화면에서 처리하고, 컨트롤러에 전달함.

(예시)
- app/views 폴더에 있는 파일 (예: users/index.html.erb, posts/show.html.erb)
- ERB(Embedded Ruby) 문법을 사용하여 html 코드 안에 Ruby 코드를 작성할 수 있음.

(특징)
- 웹 브라우저에 보여지는 html, css, javascript 코드를 포함함.
- 모델에서 가져온 데이터를 예쁘게 표현함.
- 사용자의 입력에 따라 동적으로 웹 페이지를 변경함.



3. Controller, 모델과 뷰 연결 담당

(역할)
- 사용자 요청 처리: 웹 브라우저에서 온 사용자 요청을 분석하고, 어떤 모델을 사용해야 하는지, 어떤 뷰를 보여줘야하는지 결정함.
- 모델 호출: 모델을 사용하여 데이터를 가져오거나 변경함.
- 뷰 호출: 데이터를 뷰에 전달하고, 뷰를 실행하여 사용자에게 웹 페이지를 보여줌.
- 흐름 제어: 웹 어플리케이션의 흐름을 제어함. (예: 로그인 여부 확인 사용권한 확인 등)
- 데이터 전달: 모델에서 가져온 데이터를 뷰에 전달.

(예시)
- app/controllers 폴더에 있는 파일 (예: UsersController.rb, PostsController.rb)
- action이라고 불리는 메서드를 사용하여 요청을 처리합니다.

(특징)
- 모델과 뷰 사이의 중개자 역할을 함.
- 사용자의 요청에 따라 적절한 모델과 뷰를 선택함.
- 웹 어플리케이션의 논리적인 흐름을 제어함.

[중간정리 - 흐름 요약]
1. 사용자 요청: 웹 브라우저에서 요청이 컨트롤러로 전달됨.
2. 컨트롤러: 사용자의 요청을 분석하고, 어떤 모델과 뷰를 사용해야 하는지 결정함.
3. 모델: 데이터베이스에서 필요한 데이터를 가져오거나 변경함.
4. 컨트롤러: 모델에서 가져온 데이터를 뷰에 전달함.
5. 뷰: 데이터를 받아 웹 페이지를 생성하여 사용자에게 보여줌.